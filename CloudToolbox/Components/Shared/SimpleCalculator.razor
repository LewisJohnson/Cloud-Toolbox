@namespace CloudToolbox.Components.Shared
@inherits SimpleCalculatorBase

<div>
    @* INPUTS *@
    <div class="form-flush">
        @foreach (CalculatorInput input in Inputs)
        {
            if (input.IsStandardInput)
            {
                <div class="input-group">
                    @if (!string.IsNullOrWhiteSpace(input.StartInputGroupText))
                    {
                        <span class="input-group-text" style="width: @(StartInputGroupWidth)px">@input.StartInputGroupText</span>
                    }

                    @if (input.Type == typeof(string))
                    {
                        <input name="@input.Id" class="form-control @(!input.IsValid && IsValidating ? input.InvalidCssClass : "")" type="text" @bind-value="input.InputString" @onchange="OnChange" @bind-value:event="oninput" />
                    } else if (input.Type == typeof(DateTime))
                    {
                        <input name="@input.Id" class="form-control @(!input.IsValid && IsValidating ? input.InvalidCssClass : "")" type="date" @bind-value="input.InputDateTime" @onchange="OnChange" @bind-value:event="oninput" />
                    } else if (input.Type == typeof(TimeOnly))
                    {
                        <input name="@input.Id" class="form-control @(!input.IsValid && IsValidating ? input.InvalidCssClass : "")" type="time" @bind-value="input.InputTimeOnly" @onchange="OnChange" @bind-value:event="oninput" />
                    }

                    @if (!string.IsNullOrWhiteSpace(input.EndInputGroupText))
                    {
                        <span class="input-group-text" style="width: @(EndInputGroupWidth)px">@input.EndInputGroupText</span>
                    }
                </div>
            } else
            {
                if (input.Type == typeof(Checkbox) || input.Type == typeof(bool))
                {
                    <div class="form-check mt-2">
                        <input name="@input.Id" class="form-check-input @(!input.IsValid && IsValidating ? input.InvalidCssClass : "")" type="checkbox" @bind-value="input.InputBool" @onchange="OnChange" @bind-value:event="oninput" />

                        <label class="form-check-label">@input.EndInputGroupText</label>
                    </div>
                }
            }
        }
    </div>

    <hr />

    @* RESULTS *@
    <div class="form-flush">
        @foreach (CalculatorResult res in Results)
        {
            <div class="input-group">
                @if (!string.IsNullOrWhiteSpace(res.StartInputGroupText))
                {
                    <span class="input-group-text" style="width: 120px">@res.StartInputGroupText</span>
                }

                <input id="upToSize" class="form-control" type="text" @bind="res.Value" />

                @if (!string.IsNullOrWhiteSpace(res.EndInputGroupText))
                {
                    <span class="input-group-text justify-content-end" style="width: 120px">@res.EndInputGroupText</span>
                }
            </div>
        }
    </div>
</div>
