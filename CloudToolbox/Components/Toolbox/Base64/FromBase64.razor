@namespace CloudToolbox.Toolbox
@page "/Toolbox/From-Base64"

@using System.Text;
@using CloudToolbox.Toolbox.Shared;
@using CloudToolbox.Data;

<ToolboxHeader Title="From Base64"
               Description="Converts a UTF-8 Base64 string back into its raw value" 
/>
<InputOutput onChangeEvent="@OnChange" />

@code {
    public async Task<string> OnChange(string input)
    {
        if (input != null)
        {
            try
            {
                return Encoding.UTF8.GetString(Convert.FromBase64String(input));
            } catch (Exception _)
            {
                return  "Invalid input";
            }
        }

        return string.Empty;
    }
}
